AGENT_ZELINA_PATH <- "~/Documents/2025/_2025-06-17_Zelina"
agent <- suppressMessages(agentr::load_agent(sprintf("%s/data_collector_agent.rds", AGENT_ZELINA_PATH)))
inst_id <- 'SOL-USDT-SWAP'
DT <- agent$get_local_data_okx_candle(inst_id, '4H')
DT <- strategyr::gen_ind_dca_ladder(DT)
devtools::document("~/Documents/2025/_2025-07-13_strategyr/strategyr")
devtools::load_all("~/Documents/2025/_2025-07-13_strategyr/strategyr")
inst_id <- 'SOL-USDT-SWAP'
DT <- agent$get_local_data_okx_candle(inst_id, '4H')
DT <- strategyr::gen_ind_dca_ladder(DT)
strategyr::gen_pos_dca_ladder(DT)
strategyr::gen_ind_EMA(DT)
strategyr::gen_ind_EMA_trend(DT)
strategyr::gen_pos_EMA_trend(DT)
DT[, pos_BnH := 1]
DT[, pos_BnH2 := 2]
BG_TIME <- '2021-01-01'
bt_res <- investlabr::eval_strat_performance(DT, 'pos_BnH', bg_time = BG_TIME)
investlabr::eval_strat_plot_tsline_eq(bt_res)
bt_res <- investlabr::eval_strat_performance(DT, 'pos_BnH2', bg_time = BG_TIME)
investlabr::eval_strat_plot_tsline_eq(bt_res)
DT[, pos_BnH1.5 := 1.5]
bt_res <- investlabr::eval_strat_performance(DT, 'pos_BnH1.5', bg_time = BG_TIME)
investlabr::eval_strat_plot_tsline_eq(bt_res)
DT[, pos_BnH2 := 2]
bt_res <- investlabr::eval_strat_performance(DT, 'pos_BnH2', bg_time = BG_TIME)
investlabr::eval_strat_plot_tsline_eq(bt_res)
bt_res <- investlabr::eval_strat_performance(DT, 'pos_BnH1.5', bg_time = BG_TIME)
investlabr::eval_strat_plot_tsline_eq(bt_res)
bt_res <- investlabr::eval_strat_performance(DT, 'pos_BnH', bg_time = BG_TIME)
investlabr::eval_strat_plot_tsline_eq(bt_res)
DT[, pos_BnH3 := 3]
bt_res <- investlabr::eval_strat_performance(DT, 'pos_BnH3', bg_time = BG_TIME)
investlabr::eval_strat_plot_tsline_eq(bt_res)
bt_res <- investlabr::eval_strat_performance(DT, 'pos_dca_ladder', bg_time = BG_TIME, leverage = 3)
investlabr::eval_strat_plot_tsline_eq(bt_res)
bt_res <- investlabr::eval_strat_performance(DT, 'pos_dca_ladder', bg_time = BG_TIME, leverage = 2)
investlabr::eval_strat_plot_tsline_eq(bt_res)
p1 | p2
bt_res <- investlabr::eval_strat_performance(DT, 'pos_dca_ladder', bg_time = BG_TIME, leverage = 2)
p1 <- investlabr::eval_strat_plot_tsline_eq(bt_res)
bt_res <- investlabr::eval_strat_performance(DT, 'pos_BnH2', bg_time = BG_TIME)
p2 <- investlabr::eval_strat_plot_tsline_eq(bt_res)
p1 | p2
